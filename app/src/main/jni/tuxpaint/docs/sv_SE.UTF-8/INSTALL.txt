                                   Tux Paint
                                version 0.9.35
                        Dokumentation f√∂r installation

         Copyright ¬© 2002-2025 av olika bidragsgivare; se AUTHORS.txt.
                             https://tuxpaint.org/

                                  maj 2, 2025

+-------------------------------------------------------+
|                       Inneh√•ll                        |
|-------------------------------------------------------|
|   * Krav                                              |
|       + Biblioteket Simple DirectMedia Layer (libSDL) |
|       + Andra bibliotek                               |
|   * Kompilering och installation                      |
|       + F√∂nster                                       |
|       + Linux/Unix                                    |
|       + macOS                                         |
|       + Android                                       |
|       + Haiku                                         |
|   * Fels√∂kning                                        |
|   * Avinstallera Rita med Tux                         |
|       + F√∂nster                                       |
|       + macOS                                         |
|       + Linux                                         |
+-------------------------------------------------------+

Krav

             ### Biblioteket Simple DirectMedia Layer (libSDL) ###

Rita med Tux kr√§ver Simple DirectMedia Layer Library (libSDL), ett
multimediaprogrammeringsbibliotek med √∂ppen k√§llkod som √§r tillg√§ngligt under
GNU Lesser General Public License (LGPL).

Tillsammans med libSDL √§r Rita med Tux beroende av ett antal andra
SDL-hj√§lpbibliotek: SDL_Image (f√∂r grafikfiler), SDL_gfx (f√∂r vissa grafiska
funktioner, t.ex. rotation), SDL_TTF och SDL2_Pango (f√∂r st√∂d f√∂r True Type
Font) och, eventuellt, SDL_Mixer (f√∂r ljudeffekter).

SDL-biblioteken finns tillg√§ngliga som k√§llkod, eller som RPM- eller
Debian-paket f√∂r olika Linux-distributioner. De kan laddas ner fr√•n:

  * libSDL: http://www.libsdl.org/
  * SDL_image: https://github.com/libsdl-org/SDL_image
  * SDL_gfx: https://www.ferzkopp.net/wordpress/2016/01/02/sdl_gfx-sdl2_gfx/ (
    https://sourceforge.net/projects/sdlgfx/)
  * SDL_ttf: https://github.com/libsdl-org/SDL_ttf
  * SDL2_Pango: https://github.com/markuskimius/SDL2_Pango
  * SDL_mixer: https://github.com/libsdl-org/SDL_mixer (valfritt)

De √§r ocks√• vanligtvis tillg√§ngliga tillsammans med din Linux-distribution
(t.ex. p√• ett installationsmedium eller tillg√§ngliga via programvara f√∂r
paketunderh√•ll som Debians"apt").

üí° Observera: N√§r du installerar bibliotek fr√•n paket ska du se till att du √§ven
installerar utvecklingsversionerna av paketen. (Installera till exempel
b√•de"SDL2-2.24.0.rpm" och"SDL2-devel-2.24.0.rpm")

## Andra bibliotek ##

Rita med Tux utnyttjar ocks√• ett antal andra kostnadsfria LGPL-bibliotek. Under
Linux, precis som SDL, b√∂r de antingen redan vara installerade eller vara l√§tt
tillg√§ngliga f√∂r installation som en del av din Linux-distribution.

‚Üí libPNG ‚Üê

    Rita med Tux anv√§nder PNG-format (Portable Network Graphics) f√∂r sina
    datafiler. SDL_image kr√§ver att libPNG installeras.

    http://www.libpng.org/pub/png/libpng.html


     
‚Üí gettext ‚Üê

    Rita med Tux anv√§nder ditt systems locale-inst√§llningar tillsammans med
    biblioteket "gettext" f√∂r att st√∂dja olika spr√•k (t.ex. spanska). Du
    beh√∂ver ha biblioteket gettext installerat.

    http://www.gnu.org/software/gettext/


     
‚Üí libpaper (endast Linux/Unix) ‚Üê

    Rita med Tux kan best√§mma systemets standardpappersstorlek (t.ex. A4 eller
    Letter), eller kan uppmanas att anv√§nda en viss pappersstorlek, tack vare
    "libpaper".

    https://github.com/naota/libpaper


     
‚Üí FriBiDi ‚Üê

    Rita med Tuxs verktyg "Text" och √§ven "Label" st√∂der dubbelriktade spr√•k
    tack vare biblioteket "FriBiDi".

    http://fribidi.org/


     
‚Üí St√∂d f√∂r SVG-grafik ‚Üê

    Rita med Tux kan ladda SVG-bilder (Scalable Vector Graphics) som st√§mplar.
    Tv√• upps√§ttningar bibliotek st√∂ds och SVG-st√∂det kan avaktiveras helt (via
    "make SVG_LIB:=")

    ‚Üí librsvg-2 & libCairo2 (nyare bibliotek) ‚Üê
          @ libRSVG 2: http://librsvg.sourceforge.net/
          @ Cairo 2: http://www.cairographics.org/
          @ Dessa beror ocks√• p√• f√∂ljande:
              - GdkPixbuf & GLib: http://www.gtk.org/
              - Pango: http://www.pango.org/

         
    ‚Üí √Ñldre SVG-bibliotek ‚Üê
          @ libcairo1, libsvg1, & libsvg-cairo1: http://www.cairographics.org/
          @ Dessa beror ocks√• p√• f√∂ljande:
              - libxml2: https://gitlab.gnome.org/GNOME/libxml2

         

     
‚Üí Funktion f√∂r export av animerad GIF ‚Üê

    F√∂r att st√∂dja export av animerade GIF-filer (bildspel) kr√§vs biblioteket
    "libimagequant" (fr√•n projektet "pngquant2").

    https://github.com/ImageOptim/libimagequant


     
‚Üí NetPBM Verktyg (valfritt) Anv√§nds inte l√§ngre, som standard ‚Üê

    üìú Under Linux och Unix anv√§nde tidigare versioner av Rita med Tux
    NetPBM-verktygen f√∂r att hj√§lpa till med utskriften. (En PNG genereras av
    Rita med Tux och konverteras till en PostScript med hj√§lp av NetPBM:s
    kommandoradsverktyg"pngtopnm" och"pnmtops")

    http://netpbm.sourceforge.net/


     

Kompilering och installation

Rita med Tux sl√§pps under GNU General Public License (GPL) (se "COPYING.txt"
f√∂r detaljer), och d√§rf√∂r √§r "k√§llkoden" till programmet fritt tillg√§nglig.

    -----------------------------------------------------------------------

                                ### F√∂nster ###

juli 10, 2022 Shin-ichi TOYAMA <dolphin6k@wmail.plala.or.jp>

## Upps√§ttning av kompilering ##

I "Makefile" ing√•r st√∂d f√∂r att bygga p√• ett Windows-system med MinGW/MSYS (
https://sourceforge.net/projects/msys2/).

M√•nga verktyg och bibliotek kr√§vs f√∂r att bygga Rita med Tux.
Pakethanteringssystemet "pacman" hj√§lper dig att installera dem automatiskt och
l√∂sa komplicerade beroenden.

# MYSYS2 #

Ladda ner den senaste MSYS2-milj√∂n fr√•n https://www.msys2.org/ och installera
den d√§r du vill (standard √§r "C:\msys64")

√ñppna MSYS2-skalet fr√•n "Start Menu" ‚Üí "MSYS2 64bit" ‚Üí "MSYS2 MSYS" och k√∂r
f√∂ljande kommando:

    $ yes "" | pacman -Syu

Detta uppdaterar k√§rnsystemet och f√∂nstret st√§ngs automatiskt. √ñppna
msys2-skalet igen och k√∂r f√∂ljande kommando f√∂r att avsluta den √•terst√•ende
uppdateringsprocessen.

    $ yes "" | pacman -Syu

I MSYS2-skalet k√∂r du f√∂ljande kommando f√∂r att installera grundl√§ggande
utvecklingsverktyg:

    $ yes "" | pacman -S make automake-wrapper autoconf-wrapper libtool git zip
    patch gperf dos2unix

Forts√§tt till n√§sta avsnitt"MinGW 64bit (x86_64) toolchains", eller hoppa till
avsnittet"MinGW 32bit (i686) toolchains" om du bara beh√∂ver en 32bit byggmilj√∂.

          -----------------------------------------------------------

# MinGW 64bit (x86_64)-kompilator och verktyg #

I MSYS2-skalet k√∂r du f√∂ljande kommando f√∂r att installera 64bitkompilator och
grundl√§ggande utvecklingsverktyg:

    $ yes "" | pacman -S mingw-w64-x86_64-{gcc,pkgconf,ntldd-git}

"ntldd" √§r ett litet verktyg som unders√∂ker Windows-k√∂rbara filer f√∂r att lista
Dynamic Link Library (.dll)-filer som de √§r beroende av. Rita med Tux's
paketeringsprocess f√∂r bin√§r distribution anv√§nder det f√∂r att hitta n√∂dv√§ndiga
.dll-filer.

# 64bit (x86_64) beroendebibliotek f√∂r Rita med Tux och Konfigurera Rita med
Tux #

Du kan installera verktyg och bibliotek som kr√§vs f√∂r att kompilera Rita med
Tux och Konfigurera Rita med Tux p√• MSYS2/MINGW med hj√§lp av "pacman" f√∂rutom
SDL2_Pango och libunibreak.

FLTK √§r en plattformsoberoende GUI-verktygsl√•da som anv√§nds av "Konfigurera
Rita med Tux". Du kan hoppa √∂ver att installera det om du bara bygger "Rita med
Tux".

    $ pacman -S mingw-w64-x86_64-SDL_{image,ttf,gfx}
    $ pacman -S mingw-w64-x86_64-{librsvg,fribidi,libimagequant,fltk}

üí° Obs: St√§ng skalet innan du g√•r vidare till den √•terst√•ende processen.

# Installera SDL2_Pango och libunibreak i 64bit-milj√∂n #

SDL2_Pango och libunibreak b√∂r installeras manuellt.

Den h√§r g√•ngen anv√§nder du MinGW "64bit"-skalet. √ñppna skalet fr√•n "Startmenyn"
‚Üí "MSYS2 64bit" ‚Üí "MSYS2 MinGW 64-bit"

SDL2_Pango

Du kan h√§mta k√§llkoden fr√•n Mark K. Kims git-repository, kompilera och
installera den enligt f√∂ljande.

    $ git clone https://github.com/markuskimius/SDL2_Pango
    $ cd SDL2_Pango
    $ ./configure --prefix=/mingw64 && make && make install

libunibreak

libunibreak kr√§vs f√∂r att kompilera Konfigurera Rita med Tux Du kan hoppa √∂ver
att installera det om du bara bygger "Rita med Tux".

Du kan h√§mta k√§llkoden fr√•n git repositry och kompilera den enligt f√∂ljande.

    $ git clone https://github.com/adah1972/libunibreak libunibreak
    $ cd libunibreak
    $ ./augogen.sh --prefix=/mingw64 && make && make install

Forts√§tt till n√§sta avsnitt"MinGW 32bit (i686) toolchains", eller hoppa till
avsnittet"ImageMagick" om du bara beh√∂ver en 64bit byggmilj√∂.

          -----------------------------------------------------------

# MinGW 32bit (i686)-kompilator och verktyg #

I MSYS2-skalet k√∂r du f√∂ljande kommando f√∂r att installera 32bitkompilator och
grundl√§ggande utvecklingsverktyg:

    $ yes "" | pacman -S mingw-w64-i686-{gcc,pkgconf,ntldd-git}

"ntldd" √§r ett litet verktyg som unders√∂ker Windows-k√∂rbara filer f√∂r att lista
Dynamic Link Library (.dll)-filer som de √§r beroende av. Rita med Tux's
paketeringsprocess f√∂r bin√§r distribution anv√§nder det f√∂r att hitta n√∂dv√§ndiga
.dll-filer.

# 32bit (i686) beroendebibliotek f√∂r Rita med Tux och Konfigurera Rita med Tux
#

Du kan installera verktyg och bibliotek som kr√§vs f√∂r att kompilera Rita med
Tux och Konfigurera Rita med Tux p√• MSYS2/MINGW med hj√§lp av "pacman" f√∂rutom
SDL2_Pango och libunibreak.

FLTK √§r en plattformsoberoende GUI-verktygsl√•da som anv√§nds av "Konfigurera
Rita med Tux". Du kan hoppa √∂ver att installera det om du bara bygger "Rita med
Tux".

    $ pacman -S mingw-w64-i686-SDL_{image,ttf,gfx}
    $ pacman -S mingw-w64-i686-{librsvg,fribidi,libimagequant,fltk}

üí° Obs: St√§ng skalet innan du g√•r vidare till den √•terst√•ende processen.

# Installera SDL2_Pango och libunibreak i 32bit-milj√∂n #

SDL2_Pango och libunibreak b√∂r installeras manuellt.

Den h√§r g√•ngen anv√§nder du MinGW "32bit"-skalet. √ñppna skalet fr√•n "Startmenyn"
‚Üí "MSYS2 64bit" ‚Üí "MSYS2 MinGW 32-bit"

SDL2_Pango

Du kan h√§mta k√§llkoden fr√•n Mark K. Kims git-repository, kompilera och
installera den enligt f√∂ljande.

    $ git clone https://github.com/markuskimius/SDL2_Pango
    $ cd SDL2_Pango
    $ ./configure --prefix=/mingw32 && make && make install

libunibreak

libunibreak kr√§vs f√∂r att kompilera Konfigurera Rita med Tux Du kan hoppa √∂ver
att installera det om du bara bygger "Rita med Tux".

Du kan h√§mta k√§llkoden fr√•n git repositry och kompilera den enligt f√∂ljande.

    $ git clone https://github.com/adah1972/libunibreak libunibreak
    $ cd libunibreak
    $ ./augogen.sh --prefix=/mingw32 && make && make install

## ImageMagick ##

ImageMagick √§r en samling kommandoradsverktyg f√∂r att skapa, redigera,
komponera eller konvertera bitmappsbilder med st√∂d f√∂r ett stort antal
bildformat. Rita med Tux anv√§nder tv√• funktioner ("convert" och "composite")
f√∂r att generera miniatyrbilder f√∂r startbilder och mallar under byggprocessen.

Att anv√§nda den officiella bin√§ra versionen som finns tillg√§nglig fr√•n"Windows
Binary Release" rekommenderas, p√• grund av att kommandona installerade med
"pacman" p√• MinGW / MSYS inte fungerar som f√∂rv√§ntat!

Gl√∂m inte att aktivera "Installera √§ldre verktyg (t.ex. convert)" n√§r du
installerar det, eftersom Rita med Tux's byggprocess anv√§nder dem.

L√§gg till s√∂kv√§gen till den katalog d√§r ImageMagick √§r installerat l√§ngst upp i
din milj√∂variabel "PATH". Till exempel: "PATH":

    $ export PATH=/c/Program\ Files/ImageMagick-7.0.10-Q16-HDRI:$PATH

Du kan g√∂ra detta permanent genom att l√§gga till ovanst√•ende i
konfigurationsfilen f√∂r BASH-skalet, "~/.bash_profile".

## Tux Paint & Tux Paint Config. ##

Du kan kompilera 64-bitars bin√§ra filer med hj√§lp av skalet "MSYS2 64bit"
respektive 32-bitars bin√§ra filer med hj√§lp av skalet "MSYS2 32bit".

  * V√§lj "MSYS2 64bit" ‚Üí "MSYS2 MinGW 64-bit" fr√•n "Start Menu" f√∂r att √∂ppna
    64bit-skalet.
  * V√§lj "MSYS2 64bit" ‚Üí "MSYS2 MinGW 32-bit" fr√•n "Start Menu" f√∂r att √∂ppna
    32bit-skalet.

# Tux Paint Config. #

"Konfigurera Rita med Tux" √§r ett anv√§ndbart grafiskt verktyg f√∂r att justera
Rita med Tux's beteende. Du m√•ste bygga den h√§r komponenten innan du kompilerar
Rita med Tux om du vill att den ska ing√• i ditt paket.

Du kan anv√§nda antingen (a) en stabil tar-ball-version eller (b) k√§llkodstr√§det
under utveckling.

 a. Anv√§nda stabil tar-ball release:
      + Ladda ner en tar-ball med k√§llkod
      + Expandera tar-bollen och √§ndra katalognamnet s√• att den slutliga
        paketeringsprocessen kan hitta relaterade filer.

            $ tar zxvf tuxpaint-config-A.B.C.tar.gz
            $ mv tuxpaint-config-A.B.C tuxpaint-config

 b. Anv√§nda k√§llkodstr√§det f√∂r utveckling:
      + H√§mta det utvecklande k√§lltr√§det fr√•n git-repository:

            $ git clone https://git.code.sf.net/p/tuxpaint/tuxpaint-config
            tuxpaint-config

Nu kan du bygga Tux Paint Config. p√• f√∂ljande s√§tt:

    $ cd tuxpaint-config
    $ make win32

# Tux Paint #

Du kan anv√§nda antingen (a) en stabil tar-ball-version eller (b) k√§llkodstr√§det
under utveckling.

 a. Anv√§nda stabil tar-ball release:
      + Ladda ner en tar-ball med k√§llkod
      + Expandera tar-bollen och √§ndra katalognamnet s√• att den slutliga
        paketeringsprocessen kan hitta relaterade filer.

            $ tar zxvf tuxpaint-A.B.C.tar.gz
            $ mv tuxpaint-A.B.C tuxpaint

 b. Anv√§nda k√§llkodstr√§det f√∂r utveckling:
      + H√§mta det utvecklande k√§lltr√§det fr√•n git-repository:

            $ git clone https://git.code.sf.net/p/tuxpaint/tuxpaint tuxpaint

Nu kan du bygga Tux Paint p√• f√∂ljande s√§tt:

    $ cd tuxpaint
    $ make bdist-win32

Alla filer som beh√∂vs f√∂r att starta Rita med Tux (och Konfigurera Rita med
Tux) finns samlade i katalogen f√∂r bin√§r distribution "bdist" under "win32". Du
kan starta dem genom att dubbelklicka p√• deras k√∂rbara (.exe) filer i katalogen
"bdist".

## Bygga installationsprogrammet f√∂r Rita med Tux Windows ##

Inno Setup anv√§nds f√∂r att bygga ett k√∂rbart installationsprogram f√∂r Rita med
Tux. D√§rf√∂r m√•ste du installera det i f√∂rsta hand.

Inno Setup st√∂der officiellt √∂vers√§ttningar f√∂r endast cirka 20 spr√•k. En av de
stora po√§ngerna med Rita med Tux √§r dock att det st√∂der s√• m√•nga spr√•k. D√§rf√∂r
√§r installationsskriptet "tuxpaint.iss" f√∂r att bygga installationsprogrammet
skrivet f√∂r att anv√§nda mycket fler √∂vers√§ttningar inklusive inofficiella som
finns tillg√§ngliga p√• "InnoSetup Translations". Du m√•ste ladda ner
√∂vers√§ttningsfilerna (.isl) som kr√§vs och l√§gga dem i katalogen "Languages"
under katalogen d√§r Inno Setup √§r installerat.

Innan du bygger ett installationsprogram ska du redigera filen "tuxpaint.iss"
och aktivera en av raderna som b√∂rjar med "#define BuildTarget=", beroende p√•
arkitekturen f√∂r det installationsprogram du vill skapa.

Sedan kan du enkelt bygga ett k√∂rbart installationsprogram genom att
h√∂gerklicka p√• ikonen "tuxpaint.iss" i katalogen "win32" och v√§lja "Compile" i
listan. Det kommer att k√∂ra ett tag och s√• sm√•ningom hittar du en "tuxpaint-
X.Y.Z-windows-<arch>-installer.exe"-fil i samma katalog.

## K√∂r Windows-installationsprogrammet f√∂r Rita med Tux ##

Dubbelklicka p√• den k√∂rbara installationsfilen f√∂r Rita med Tux (.EXE-filen)
och f√∂lj instruktionerna.

F√∂rst kommer du att bli ombedd att l√§sa licensen. (Det √§r GNU General Public
License (GPL), som ocks√• finns tillg√§nglig som "COPYING.txt")

Du kommer sedan att f√• fr√•gan om du vill installera genv√§gar till Rita med Tux
i Windows Startmeny och p√• Windows Skrivbord. (B√•da alternativen √§r inst√§llda
som standard.)

Sedan kommer du att bli tillfr√•gad om var du vill installera Rita med Tux.
Standardinst√§llningen b√∂r vara l√§mplig, s√• l√§nge det finns ledigt utrymme.
Annars v√§ljer du en annan plats.

Vid denna punkt kan du klicka p√• "Installera" f√∂r att installera Rita med Tux!

üí° Installationsprogrammen f√∂r b√•de Rita med Tux (plus Konfigurera Rita med Tux)
(tuxpaint-X.Y.Z-windows-ARCH-installer.exe) och Rita med Tux Stamps
(tuxpaint-stamps-YYYY.MM.DD-windows-installer.exe) accepterar
kommandoradsalternativen "/SILENT" ("tyst") eller "/VERYSILENT" ("mycket tyst")
som kan anv√§ndas f√∂r att installera och avinstallera deras komponenter utan att
anv√§nda ett interaktivt installationsf√∂nster. Detta kan vara anv√§ndbart f√∂r att
automatisera installationen p√• en samling datorer, t.ex. med hj√§lp av Microsoft
Intune molnbaserad l√∂sning f√∂r slutpunktshantering (se https://
learn.microsoft.com/mem/intune/).

## √Ñndra inst√§llningar med hj√§lp av genv√§g ##

Om du vill √§ndra programinst√§llningarna h√∂gerklickar du p√• genv√§gen till
TuxPaint och v√§ljer "Egenskaper" (l√§ngst ner).

Kontrollera att fliken "Genv√§g" √§r markerad i det f√∂nster som visas och
unders√∂k f√§ltet "M√•l:". Du b√∂r se n√•got liknande detta:

    "C:\Programfiler\TuxPaint\TuxPaint.exe"

Du kan nu l√§gga till kommandoradsalternativ som aktiveras n√§r du dubbelklickar
p√• ikonen.

Till exempel, f√∂r att f√• spelet att k√∂ras i helsk√§rmsl√§ge, med enkla former
(inget rotationsalternativ) och p√• franska, l√§gg till alternativen (efter
"TuxPaint.exe"), s√• h√§r:

    "C:\Programfiler\TuxPaint\TuxPaint.exe" -f -s --lang french

(Se huvuddokumentationen f√∂r en fullst√§ndig lista √∂ver tillg√§ngliga
kommandoradsalternativ)

Om du g√∂r ett misstag eller om allt f√∂rsvinner, anv√§nd [Kontroll] + [Z] f√∂r att
√•ngra eller tryck bara p√• [Esc] s√• st√§ngs rutan utan att n√•gra √§ndringar har
gjorts (om du inte tryckte p√• knappen "Apply"!).

N√§r du √§r klar klickar du p√• "OK"

## Om n√•got g√•r fel ##

Om det inte h√§nder n√•got n√§r du dubbelklickar p√• genv√§gen f√∂r att k√∂ra Rita med
Tux beror det f√∂rmodligen p√• att n√•gra av kommandoradsalternativen √§r
felaktiga. √ñppna en Explorer och leta efter en fil som heter "stderr.txt" i din
personliga sparmapp f√∂r TuxPaint, som normalt √§r 
"C:\Users\anv√§ndarnamn\AppData\Roaming\TuxPaint\".

Det kommer att inneh√•lla en beskrivning av vad som var fel. Vanligtvis beror
det bara p√• felaktig teckenstorlek (stort "Z" i st√§llet f√∂r litet "z") eller
ett saknat (eller extra) "-" (bindestreck).

    -----------------------------------------------------------------------

                              ### Linux/Unix ###

## Kompilera: ##

üí° Obs: Rita med Tux anv√§nder inte autoconf/automake, s√• det finns inget "./
configure"-skript att k√∂ra. Kompileringen b√∂r dock vara enkel, f√∂rutsatt att
allt som Rita med Tux beh√∂ver √§r installerat.

F√∂r att kompilera programmet fr√•n k√§llkoden k√∂r du bara f√∂ljande kommando fr√•n
en shell-prompt (t.ex. "$"):

    $ make

## Inaktiverar SVG-st√∂d (och d√§rmed Cairo, libSVG och svg-cairo-beroenden): ##

Om du vill inaktivera SVG-st√∂det (t.ex. om ditt system f√∂r n√§rvarande inte
st√∂ds av Kairobiblioteket eller andra SVG-relaterade beroenden) kan du k√∂ra
"make" med till√§gget "SVG_LIB= SVG_CFLAGS= NOSVGFLAG=NOSVG":

    $ make SVG_LIB= SVG_CFLAGS=

## Inaktivera ljud vid kompilering ##

Om du inte har n√•got ljudkort eller f√∂redrar att bygga programmet utan ljudst√∂d
(och d√§rmed utan SDL_mixer-beroendet ) kan du k√∂ra "make" med "SDL_MIXER_LIB="
tillagt:

    $ make SDL_MIXER_LIB=

## Andra alternativ ##

Flera andra alternativ (t.ex. installationss√∂kv√§gar) kan √•sidos√§ttas; se dem i
"Makefile" f√∂r mer information.

## Om du f√•r felmeddelanden ##

Om du f√•r n√•gra fel under kompileringstiden, kontrollera att du har installerat
r√§tt bibliotek (se ovan). Om du anv√§nder paketerade versioner av biblioteken
(t.ex. RPM:er under RedHat eller DEB:er under Debian), se till att du ocks√• f√•r
motsvarande "-dev"- eller "-devel"-paket, annars kommer du inte att kunna
kompilera Rita med Tux (och andra program) fr√•n k√§llan!

## Installation ##

F√∂rutsatt att inga fel intr√§ffar kan du nu installera programmet s√• att det kan
k√∂ras av anv√§ndare i systemet. Som standard m√•ste detta g√∂ras av anv√§ndaren
"root" ("superuser"). Byt till "root" genom att skriva kommandot:

    $ su

Ange "root"s l√∂senord vid prompten. Du b√∂r nu vara "root" (med en prompt som "#
"). F√∂r att installera programmet och dess datafiler, skriv:

    # make install

Slutligen kan du v√§xla tillbaka till din vanliga anv√§ndare genom att avsluta
superanv√§ndarl√§get:

    # exit

Alternativt kan du kanske helt enkelt anv√§nda kommandot "sudo" (t.ex. p√• Ubuntu
Linux):

    $ sudo make install

üí° Obs: Som standard placeras "tuxpaint", det k√∂rbara programmet, i "/usr/local/
bin/". Datafilerna (bilder, ljud, etc.) placeras i "/usr/local/share/tuxpaint/
".

# √Ñndra vart saker och ting tar v√§gen #

Du kan √§ndra vart saker och ting ska g√• genom att ange "Makefile"-variabler p√•
kommandoraden. "DESTDIR" anv√§nds f√∂r att placera utdata i ett mellanomr√•de f√∂r
paketskapande. "PREFIX" √§r grunden f√∂r var alla andra filer hamnar och √§r som
standard inst√§lld p√• "/usr/local".

Andra variabler √§r:

‚Üí BIN_PREFIX ‚Üê
    D√§r "tuxpaint"-bin√§rfilen ska installeras. (inst√§lld p√• "$(PREFIX)/bin" som
    standard - t.ex. "/usr/local/bin")
     
‚Üí DATA_PREFIX ‚Üê
    Var datafilerna (ljud, grafik, penslar, st√§mplar, teckensnitt) ska placeras
    och var Rita med Tux ska leta efter dem n√§r programmet k√∂rs. (St√§lls in p√•
    "$(PREFIX)/share/tuxpaint")
     
‚Üí DOC_PREFIX ‚Üê
    D√§r dokumentationens textfiler (katalogen "docs") ska placeras. (St√§ll in
    till "$(PREFIX)/share/doc/tuxpaint")
     
‚Üí MAN_PREFIX ‚Üê
    D√§r kommer manualsidan f√∂r Rita med Tux att hamna. (St√§ll in till "$
    (PREFIX)/share/man")
     
‚Üí ICON_PREFIX ‚Äî $(PREFIX)/share/pixmaps ‚Üê
‚Üí X11_ICON_PREFIX ‚Äî $(PREFIX)/X11R6/include/X11/pixmaps ‚Üê
‚Üí GNOME_PREFIX ‚Äî $(PREFIX)/share/gnome/apps/Graphics ‚Üê
‚Üí KDE_PREFIX ‚Äî $(PREFIX)/share/applnk/Graphics ‚Üê
    D√§r ikonerna och startprogrammen (f√∂r GNOME och KDE) kommer att placeras.
     
‚Üí LOCALE_PREFIX ‚Üê
    Var √∂vers√§ttningsfilerna f√∂r Rita med Tux ska placeras och var Rita med Tux
    ska leta efter dem. (St√§ll in till "$(PREFIX)/share/locale/") (Den slutliga
    platsen f√∂r en √∂vers√§ttningsfil kommer att vara under den lokala katalogen
    (t.ex. "es" f√∂r spanska), i underkatalogen "LC_MESSAGES")
     

üí° Obs: Denna lista √§r f√∂r√•ldrad. Se "Makefile" och "Makefile-i18n" f√∂r en
fullst√§ndig lista.

    -----------------------------------------------------------------------

                                 ### macOS ###

juni 5, 2022 Mark Kim <markuskimius@gmail.com>

Fr√•n och med Rita med Tux 0.9.23 √§r Rita med Tux f√∂r macOS byggt som om det
vore ett Linux-program.

## F√∂ruts√§ttningar ##

√Ñven om Rita med Tux √§r byggt utan Xcode IDE kr√§vs √§nd√• Xcode f√∂r att bygga
Rita med Tux. Ladda ner det fr√•n App Store och starta det en g√•ng f√∂r att
acceptera dess licensavtal. Du kan ocks√• beh√∂va installera
kommandoradsverktygen f√∂r Xcode med kommandot:

    $ xcode-select --install

F√∂r att bygga Rita med Tux kr√§vs ocks√• olika bibliotek. Vi installerar dem fr√•n
MacPorts d√§r det √§r m√∂jligt, annars fr√•n k√§llkoden. Installera MacPorts till
standards√∂kv√§gen /opt/local enligt instruktionerna p√• deras webbplats: https://
www.macports.org/

  * ImageMagick
  * cairo
  * fribidi
  * lbzip2
  * libimagequant^*
  * libpaper
  * libpng
  * librsvg
  * libsdl2
  * libsdl2_image
  * libsdl2_mixer
  * libsdl2_pango^*
  * libsdl2_ttf
  * libsdl2_gfx
  * pkgconfig
  * zlib

... men du b√∂r installera alla paket som kr√§vs av den senaste versionen av Rita
med Tux.

^* Inte tillg√§ngligt fr√•n MacPorts i skrivande stund, se nedan.

# libimagequant #

libimagequant √§r inte tillg√§ngligt fr√•n MacPorts n√§r detta skrivs. Det kan
installeras fr√•n k√§llkoden p√• f√∂ljande s√§tt. Det b√∂r installeras till /opt/
local (samma som MacPorts) f√∂r att biblioteket ska inkluderas i TuxPaint.dmg.

    $ sudo port install rust cargo
    $ git clone https://github.com/ImageOptim/libimagequant.git
    $ cd libimagequant/imagequant-sys
    $ cargo build --release # M√•ste anv√§nda last fr√•n MacPorts
    $ sudo make PREFIX=/opt/local install

# sdl2_pango #

sdl2_pango √§r inte tillg√§ngligt fr√•n MacPorts n√§r detta skrivs. Det kan
installeras fr√•n k√§llkoden p√• f√∂ljande s√§tt. Det b√∂r installeras till /opt/
local (samma som MacPorts) f√∂r att biblioteket ska inkluderas i TuxPaint.dmg.

    $ git clone https://github.com/markuskimius/SDL2_Pango.git
    $ cd SDL2_Pango
    $ export MACOSX_DEPLOYMENT_TARGET=11.0 # on Apple Silicon CPU; use "10.10"
    on Intel CPU
    $ ./configure --prefix=/opt/local && make && sudo make install

VARNING: Om du har n√•gon UNIX-liknande verktygssats installerad p√• din Mac
ut√∂ver MacPorts och Xcode, till exempel Fink eller Brew, kommer din appbunt
inte att vara portabel. Se till att Fink och Brew inte √§r √•tkomliga fr√•n din
byggmilj√∂.

## Hur man bygger ##

Helt enkelt, k√∂r:

    % make
    % make install

... f√∂r att skapa programpaketet TuxPaint.app som kan k√∂ras p√• plats eller
kopieras till /Applications. F√∂r att skapa DMG-filen f√∂r distribution, anv√§nd
"make TuxPaint.dmg".

Ytterligare steg kr√§vs n√§r du bygger en universell bin√§r fil. Se "Bygga en
universell bin√§r fil" nedan.

## K√§nda problem ##

  * En macOS-bin√§rfil som byggts p√• en specifik version av macOS k√∂rs bara p√•
    den versionen av macOS eller senare. F√∂r att s√§kerst√§lla att Rita med Tux
    kan k√∂ras p√• den √§ldsta m√∂jliga versionen av macOS, bygg den p√• den √§ldsta
    tillg√§ngliga versionen av macOS. N√§r detta skrivs vet vi att Rita med Tux
    inte kan byggas f√∂r att k√∂ras p√• macOS 10.7 eller tidigare.

    Se "Gamla versioner av macOS" nedan f√∂r b√§sta m√∂jliga instruktioner om hur
    du skaffar, installerar och bygger Rita med Tux p√• en gammal version av
    macOS.

    Alternativt kan Rita med Tux och alla dess biblioteksberoenden kompileras
    med l√§mpliga alternativ f√∂r att kunna k√∂ras p√• √§ldre versioner av macOS.
    Dessa alternativ √§r redan inst√§llda p√• Rita med Tux, s√• det √§r bara dess
    beroenden (fr√•n MacPorts) som beh√∂ver kompileras om. Se "Omkompilering av
    MacPorts" nedan f√∂r instruktioner.

## Gamla versioner av macOS ##

Vissa gamla versioner av macOS kan laddas ner fr√•n Apples supportsida: https://
support.apple.com/en-us/HT211683

macOS f√∂r Intel CPU till√•ter dubbelstart av flera versioner av
operativsystemet, men det √§r s√§krare och enklare att installera det gamla macOS
p√• ett USB-minne. Oavsett var du installerar det m√•ste m√•lenhetens
partitioneringsschema och partitionstyp matcha vad det gamla macOS f√∂rv√§ntar
sig, s√• anv√§nd Diskverktyget f√∂r att partitionera och formatera flash-enheten i
enlighet med detta.

Att dubbelstarta flera versioner av macOS f√∂r Apple Silicon har hittills inte
fungerat. Ist√§llet f√∂r att installera en √§ldre version av macOS f√∂r Apple
Silicon f√∂r att bygga Rita med Tux s√• att det kan k√∂ras p√• den gamla versionen
av macOS f√∂r Apple Silicon, anv√§nd instruktionerna i avsnittet "Omkompilering
av MacPorts" f√∂r att bygga Rita med Tux s√• att det kan k√∂ras p√• √§ldre versioner
av macOS f√∂r Apple Silicon.

I skrivande stund √§r den √§ldsta versionen av macOS som finns p√• Apples
supportsida Yosemite 10.10, som f√∂rv√§ntar sig "GPT (GUID Partition Table)
"-partitioneringsschema ist√§llet f√∂r det √§ldre MBR-schemat och "Mac OS Extended
(Journaled)" som partitionstyp ist√§llet f√∂r den nyare APFS-partitionstypen.

Om du f√•r en popup om att macOS √§r f√∂r gammalt eller nytt f√∂r att installeras
n√§r du startar installationsprogrammet kan du skapa ett startbart
installationsprogram med hj√§lp av instruktionerna h√§r: https://
support.apple.com/en-mide/HT201372

N√§r den gamla macOS √§r installerad kan du uppt√§cka att Xcode p√• App Store √§r
f√∂r ny f√∂r att k√∂ras p√• versionen av den gamla macOS. Gamla versioner av Xcode
kan h√§mtas fr√•n Apples webbplats f√∂r utvecklare i ett omr√•de som √§r
tillg√§ngligt med gratis registrering: https://developer.apple.com/download/more
/

Listan √∂ver macOS-versioner och den senaste versionen av Xcode som √§r
kompatibel med dem √§r snyggt upplagd p√• Wikipedia-sidan om Xcode: https://
en.wikipedia.org/wiki/Xcode#Version_comparison_table

Eftersom Xcode installeras manuellt kan du hoppa √∂ver steget f√∂r att installera
Xcodes kommandoradsverktyg (k√∂r inte "xcode-select --install") men i √∂vrigt
bygga Rita med Tux med samma steg som beskrivs i den tidigare delen av det h√§r
dokumentet.

## Omkompilering av MacPorts ##

Om du vill kompilera om MacPorts s√• att den kan anv√§ndas p√• √§ldre versioner av
macOS st√§ller du in f√∂ljande alternativ i /opt/local/etc/macports/
macports.conf:

    buildfromsource always
    macosx_deployment_target 10.10

Avinstallera sedan alla MacPorts-paket:

    $ sudo port -fp uninstall installed

Installera sedan om alla MacPorts-paket som beh√∂vs f√∂r Rita med Tux. Bygg √§ven
om libimagequant med hj√§lp av det uppdaterade Cargo-paketet fr√•n MacPorts.

I skrivande stund kan alla bibliotek som Rita med Tux kr√§ver fr√•n MacPorts
kompileras om p√• det h√§r s√§ttet f√∂r att k√∂ras p√• macOS 10.10 Yosemite och
senare p√• Intel-processorer och macOS 11.0 Big Sur och senare p√• Apple Silicon.
√Ñven om MacPorts har m√∂jlighet att aktivera byggandet av universella bibliotek,
kan tyv√§rr flera bibliotek som Rita med Tux kr√§ver inte byggas som universella
bibliotek, s√• de kan bara byggas f√∂r att k√∂ras nativt p√• den maskinvara som de
byggdes p√•. Se "Bygga en universell bin√§rfil" nedan f√∂r instruktioner om hur du
bygger Rita med Tux som en universell bin√§rfil.

## Bygga en universell bin√§r kod ##

F√∂r att bygga Rita med Tux som en Universal Binary, kompilera f√∂rst Rita med
Tux f√∂r Intel CPU och Apple Silicon separat. Byt sedan namn p√• appbunten f√∂r
Intel CPU till TuxPaint-x86_64.app och bunten f√∂r Apple Silicon till
TuxPaint-arm64.app, kopiera appbunten fr√•n Intel-maskinen till Apple
Silicon-maskinen och anv√§nd sedan det medf√∂ljande build-universal.sh-skriptet
f√∂r att kombinera de tv√• applikationsbuntarna enligt nedan. DMG-filen kan
byggas i efterhand:

    $ macos/build-universal.sh
    $ make TuxPaint.dmg

    -----------------------------------------------------------------------

                                ### Android ###

mars 29, 2023 Pere Pujal i Carabantes <perepujal@gmail.com> (Edited by Bill
Kendrick)

Fr√•n och med mars 2023 underh√•lls Android-versionen av Rita med Tux i ett
separat kodf√∂rvar p√• GitHub: https://github.com/tux4kids/Tuxpaint-Android.
Detaljerade instruktioner finns d√§r; detta fungerar som en √∂versikt.

## F√∂ruts√§ttningar ##

Du kommer att beh√∂va senaste versioner av:

  * Gradle - verktyg f√∂r byggautomatisering
  * Android Studio (Software Development Kit (SDK) ) - f√∂r att st√∂dja
    utveckling av Android-appar (Java)
  * Android Native Development Kit (NDK) - f√∂r att st√∂dja inbyggd utveckling i
    C/C++

F√∂r att kompilera den senaste Rita med Tux m√•ste man synkronisera huvud
SourceForge-projektets tuxpaint Git-f√∂rvar med GitHub-projektets
TuxPaint-Android Git-f√∂rvar. (Pere anv√§nder ett skalskript som
s√§kerhetskopierar katalogen app/src/main/jni/tuxpaint i Tuxpaint-Android
GitHub-arkivet och g√∂r en byggnad av SourceForges tuxpaint f√∂r att generera
√∂vers√§ttningar och andra saker som inte autogenereras i Android-byggnaderna,
och sedan kopierar SourceForge tuxpaint tillbaka till Tuxpaint-Android) (FIXME:
Det b√∂r checkas in n√•gonstans. F√∂r tillf√§llet, se https://sourceforge.net/p/
tuxpaint/feature-requests/224/)

F√∂r att det ska fungera beh√∂ver du k√§llorna tuxpaint och Tuxpaint-Android
bredvid varandra och skriptet i den katalog som inneh√•ller b√•da.

Fyll katalogen app/src/main/assets genom att k√∂ra cd app/src/main/jni/tuxpaint
&& ./mkzip_assets.sh

## Byggnad ##

Gradle-bygget genererar n√•gra varianter: PlayStore, debugPlayStore,
offPlayStore och debugoffPlayStore. Du m√•ste signera de som inte √§r debuggar
f√∂r att kunna installera dem. (FIXME: L√§nk till information om hur man
signerar.) (Obs: "playStore"-varianterna √§r avsedda att laddas upp till Google
Play; detta hanteras f√∂r n√§rvarande av Terrence Sheflin - mars 2023.
"offPlayStore" √§r den smak som vi distribuerar som APK-filer p√• Rita med
Tux-webbplatsen och SourceForge-filhosting, och √§r den variant som byggs av
F-Droid app. repository.)

F√∂r att utl√∂sa en build fr√•n F-droid r√§cker det att tagga en commit och skjuta
den till GitHub. Det garanterar dock inte att byggnaden kommer att lyckas, s√•
Pere k√∂r vanligtvis en lokal F-droid-server f√∂r att testa byggnaden och s√•
sm√•ningom anpassa F-droids byggkvitto innan han skjuter taggen till GitHub.

De byggnader som Pere distribuerar √§r alla gjorda med den lokala
F-droid-servern. Det har f√∂rdelen att packa k√§llorna och loggarna och signera
APK. Viktigast av allt, det anv√§nder samma verktyg som F-Droid kommer att
anv√§nda f√∂r att bygga Rita med Tux, s√• att du kan uppt√§cka problem i f√∂rv√§g.

Det kvitto som Pere anv√§nder f√∂r F-Droid-byggnationer finns i
metadatadirektiven p√• https://gitlab.com/fdroid/fdroiddata. F-Droid-serverkoden
finns p√• https://gitlab.com/fdroid/fdroidserver. F√∂r att generera servern
beh√∂ver du 1 GB ledigt p√• disken. K√∂r makebuildserver-verktyget de
tillhandah√•ller, sedan, fr√•n roten till fdroiddata, k√∂r ../fdroidserver/fdroid
build --server org.tuxpaint:N NNN (NNNN = version, t. ex. 9288)

    -----------------------------------------------------------------------

                                 ### Haiku ###

maj 7, 2023 Luc Schrijvers <begasus@gmail.com> (Edited by Bill Kendrick)

## F√∂ruts√§ttningar ##

Installera de n√∂dv√§ndiga utvecklingspaketen i Terminal:

‚Üí 32-bitars: ‚Üê
    pkgman install xcairo_x86_devel fribidi_x86_devel gdk_pixbuf_x86_devel
    libiconv_x86_devel libimagequant_x86_devel gettext_x86_libintl
    libpaper_x86_devel pango_x86_devel libpng16_x86_devel librsvg_x86_devel
    libsdl2_x86_devel sdl2_image_x86_devel sdl2_gfx_x86_devel
    sdl2_mixer_x86_devel sdl2_pango_x86_devel sdl2_ttf_x86_devel zlib_x86_devel
     
‚Üí 64-bitars: ‚Üê
    pkgman install xcairo_devel fribidi_devel gdk_pixbuf_devel libiconv_devel
    libimagequant_devel gettext_libintl libpaper_devel pango_devel
    libpng16_devel librsvg_devel libsdl2_devel sdl2_image_devel sdl2_gfx_devel
    sdl2_mixer_devel sdl2_pango_devel sdl2_ttf_devel zlib_devel
     
‚Üê

F√∂r 32-bitars m√•ste du byta till den nya kompilatorn (f√∂r n√§rvarande gcc
11.2.0) med setarch x86

## Byggnad ##

make PREFIX=/boot/home/config/non-packaged

## Rita med Tux st√§mplar ##

make install-all DATA_PREFIX=/boot/home/config/non-packaged/share/tuxpaint/

Fels√∂kning

‚öô Fels√∂kningsutdata - till "STDOUT" p√• Linux och Unix, till en "stdout.txt"-fil
p√• Windows och till filen "/tmp/tuxpaint.log" p√• macOS - kan aktiveras genom
att st√§lla in "DEBUG" (och, om verbose-loggning √∂nskas, "VERBOSE") #definesi
"src/debug.h" och (om)kompilera Rita med Tux.

Avinstallera Rita med Tux

                                ### F√∂nster ###

## Anv√§nda avinstallationsprogrammet ##

Om du installerade genv√§garna i Start-menyn (standard), g√• till TuxPaint-mappen
och v√§lj "Avinstallera". En ruta visas som bekr√§ftar att du √§r p√• v√§g att
avinstallera Rita med Tux och om du √§r s√§ker p√• att du vill ta bort Rita med
Tux permanent klickar du p√• knappen "Avinstallera".

N√§r det √§r klart klickar du p√• knappen St√§ng.

## Anv√§nda kontrollpanelen ##

Det √§r ocks√• m√∂jligt att anv√§nda posten "TuxPaint (endast ta bort)" i avsnittet
L√§gg till / ta bort program i kontrollpanelen.

                                 ### macOS ###

Ta bort "TuxPaint.app" fr√•n mappen "/Applications". Datafiler, inklusive
konfigurationsfiler, st√§mplar och sparade bilder, finns i 
"/Bibliotek/Applikationsst√∂d/TuxPaint/" (alla anv√§ndare) och 
"/Anv√§ndare/anv√§ndarnamn/Bibliotek/Applikationsst√∂d/TuxPaint/" (enskilda
anv√§ndare).

                                 ### Linux ###

I k√§llkatalogen f√∂r Rita med Tux (d√§r du kompilerade Rita med Tux) kan du
anv√§nda m√•let "make uninstall" f√∂r att avinstallera Rita med Tux. Som standard
m√•ste detta g√∂ras av "root"-anv√§ndaren ("superuser"), men om du installerade
Rita med Tux n√•gon annanstans (t.ex. med en "PREFIX=..."-inst√§llning till
"make" och "make install"), kanske du inte g√∂r det och vill ange samma
inst√§llningar h√§r. (Se installationsanvisningarna ovan f√∂r ytterligare
information)

